(()=>{"use strict";var e={n:t=>{var r=t&&t.__esModule?()=>t.default:()=>t;return e.d(r,{a:r}),r},d:(t,r)=>{for(var o in r)e.o(r,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:r[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.wp.blocks,r=[{name:"core/group",styles:[{name:"full-height",label:"Full height"}]}],o=JSON.parse('{"name":"tutoriel-gutenberg/first-block","apiVersion":2,"title":"Mon premier bloc","description":"Ceci est mon premier bloc","category":"design","attributes":{"point":{"type":"number","default":0},"angle":{"type":"number","default":0}}}'),n=window.wp.blockEditor,s=window.wp.components,a=window.wp.element,i=window.ReactJSXRuntime,l=({attributes:e,setAttributes:t})=>{const r=(0,n.useBlockProps)(),{point:o,angle:l}=e;return(0,i.jsxs)(a.Fragment,{children:[(0,i.jsx)(n.InspectorControls,{children:(0,i.jsxs)(s.PanelBody,{title:"Nos paramètres de bloc",children:[(0,i.jsx)(s.RangeControl,{label:"Points",value:o,onChange:e=>t({point:e}),min:0,max:10}),(0,i.jsx)(s.AnglePickerControl,{label:"Rotation",value:l,onChange:e=>t({angle:e})})]})}),(0,i.jsx)("div",{...r,children:(0,i.jsxs)("span",{className:"wp-block-tutoriel-gutenberg-first-block__text",style:{"--rotate":`rotate(${l}deg)`},children:["Test ",o]})})]})},c=({attributes:e})=>{const t=n.useBlockProps.save(),{angle:r,point:o}=e;return(0,i.jsx)("div",{...t,children:(0,i.jsxs)("span",{className:"wp-block-tutoriel-gutenberg-first-block__text",style:{"--rotate":`rotate(${r}deg)`},children:["Test ",o+""]})})},p=JSON.parse('{"name":"tutoriel-gutenberg/query","apiVersion":2,"title":"Ma custom query","category":"design","icon":"admin-site","keywords":["query","custom","tutoriel"],"attributes":{"page_id":{"type":"number","default":0}}}'),d=window.wp.serverSideRender;var u=e.n(d);const g=window.wp.apiFetch;var m=e.n(g);const h=({attributes:e,setAttributes:t})=>{const r=(0,n.useBlockProps)(),{page_id:o}=e,[l,c]=(0,a.useState)([]),[p,d]=(0,a.useState)(!0);return(0,a.useEffect)((()=>{m()({path:"/wp/v2/pages?per_page=100"}).then((e=>{const t=e.map((e=>({value:e.id,label:e.title.rendered||`Page ${e.id}`})));c(t)})).catch((e=>{console.error("Erreur lors de la récupération des pages :",e),c([])})).finally((()=>{d(!1)}))}),[]),(0,i.jsxs)(a.Fragment,{children:[(0,i.jsx)(n.InspectorControls,{children:(0,i.jsx)(s.PanelBody,{title:"Paramètre de ma query",children:p?(0,i.jsx)("p",{children:"Chargement des pages..."}):(0,i.jsx)(s.SelectControl,{label:"Sélectionnez une page",value:o,options:[{label:"Aucune sélection",value:0},...l],onChange:e=>t({page_id:e})})})}),(0,i.jsx)("div",{...r,children:(0,i.jsx)(u(),{block:"tutoriel-gutenberg/query",attributes:e})})]})},b=window.wp.hooks,w=window.wp.compose,y=(window.wp.i18n,{name:"transparency",blocks:["core/heading","core/group","tutoriel-gutenberg/first-block"],attributes:{transparency:{type:"number",default:100}},Controls:({attributes:e,setAttributes:t})=>{const{transparency:r}=e;return(0,i.jsx)(n.InspectorControls,{children:(0,i.jsx)(s.PanelBody,{title:"Transparency parameter",children:(0,i.jsx)(s.RangeControl,{label:"Transparency in %",step:1,value:r,onChange:e=>t({transparency:e}),min:0,max:100})})})},newPropsEdit:(e,t)=>{const{transparency:r}=t;let o=e.wrapperProps?{...e.wrapperProps.style}:{};return 100!==r&&(o["--transparency"]=`${r}%`),{wrapperProps:{...e.wrapperProps,style:o}}},newPropsSave:(e,t)=>{const{transparency:r}=t;let o={...e.style};return 100!==r&&(o["--transparency"]=`${r}%`),{...e,style:o}}}),x=e=>{const{name:t,blocks:r,attributes:o,Controls:n,newPropsEdit:s,newPropsSave:a}=e;(0,b.addFilter)("blocks.registerBlockType",`tutoriel-gutenberg/${t}/attributes`,((e,t)=>(-1!==r.indexOf(t)&&(e.attributes={...e.attributes,...o}),e))),(0,b.addFilter)("editor.BlockEdit",`tutoriel-gutenberg/${t}/controls`,(0,w.createHigherOrderComponent)((e=>t=>-1===r.indexOf(t.name)?(0,i.jsx)(e,{...t}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e,{...t}),(0,i.jsx)(n,{...t})," "]})),"withInspectorControl")),(0,b.addFilter)("blocks.getSaveContent.extraProps",`tutoriel-gutenberg/${t}/props`,((e,t,o)=>-1===r.indexOf(t.name)?e:{...e,...a(e,o)})),(0,b.addFilter)("editor.BlockListBlock",`tutoriel-gutenberg/${t}/editor`,(0,w.createHigherOrderComponent)((e=>t=>(-1!==r.indexOf(t.name)&&(t={...t,...s(t,t.attributes)}),(0,i.jsx)(e,{...t}))),"withBlockListBlockClass"))},k=window.wp.plugins,v=window.wp.editPost,j=window.wp.data;class C extends a.Component{constructor(e){super(e),this.state={checked:e.checked||!1}}handleChange=()=>{this.setState({checked:!this.state.checked}),this.props.onChange(this.state.checked)};render(){const{label:e}=this.props,{checked:t}=this.state;return(0,i.jsxs)("div",{className:"component-tutoriel-gutenberg-custom-toggle-control",children:[e&&(0,i.jsx)("label",{className:"component-tutoriel-gutenberg-custom-toggle-control__label",children:e}),(0,i.jsx)("span",{onClick:this.handleChange,className:"component-tutoriel-gutenberg-custom-toggle-control__toggle"+(t?" active":"")}),t&&(0,i.jsx)("span",{children:"Yes"}),!t&&(0,i.jsx)("span",{children:"No"})]})}}const P=C,f=()=>{const e=(0,j.useSelect)((e=>e("core/editor").getCurrentPostType()),[]),t=(0,j.useSelect)((e=>e("core/editor").getEditedPostAttribute("meta")),[]),{editPost:r}=(0,j.useDispatch)("core/editor");return(0,i.jsx)(a.Fragment,{children:"page"===e&&(0,i.jsx)(v.PluginDocumentSettingPanel,{name:"visible-meta",title:"Visible meta",className:"custom-meta-panel",children:(0,i.jsx)(P,{label:"Page visible ?",checked:t.visible,onChange:e=>{return o={visible:e},void r({meta:{...t,...o}});var o}})},"visible-meta")})},B=window.wp.domReady;var S=e.n(B);const T=window.wp.richText,_=[{name:"tutoriel-gutenberg/highlight",title:"High light",tagName:"span",className:"highlight",edit:({isActive:e,value:t,onChange:r})=>(0,i.jsx)(n.RichTextToolbarButton,{icon:"button",title:"Test",onClick:()=>{r((0,T.toggleFormat)(t,{type:"tutoriel-gutenberg/highlight"}))},isActive:e})}];(0,t.registerBlockType)(o.name,{...o,edit:l,save:c}),(0,t.registerBlockType)(p.name,{...p,edit:h}),((e=(()=>[y])())=>{e.forEach(x)})(),(0,k.registerPlugin)("tutoriel-gutenberg-visible-meta-sidebar",{render:f}),r.map((e=>(0,t.registerBlockStyle)(e.name,e.styles))),_.map((e=>(0,T.registerFormatType)(e.name,{...e}))),S()((()=>{const e=["core/block","core/button","core/buttons","core/column","core/columns","core/cover","core/details","core/embed","core/file","core/gallery","core/group","core/heading","core/home-link","core/html","core/image","core/legacy-widget","core/list-item","core/list","core/loginout","core/media-text","core/page-list-item","core/paragraph","core/post-author-name","core/post-content","core/post-date","core/post-featured-image","core/post-title","core/quote","core/separator","core/site-logo","core/site-title","core/spacer","core/table","core/template-part","core/widget-group"];(0,j.select)("core/blocks").getBlockTypes().forEach((r=>{e.includes(r.name)||(0,t.unregisterBlockType)(r.name)}))}))})();